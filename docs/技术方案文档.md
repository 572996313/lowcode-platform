# 低代码平台技术方案文档

## 一、项目概述

### 1.1 项目目标
构建一个基于 Vue3 + Spring Boot + MySQL 的低代码平台，支持通过可视化配置生成表单、表格、菜单、页面布局等功能，实现快速开发和部署。

### 1.2 核心功能
- 菜单配置管理（树形结构）
- 页面模板管理（多种布局模板）
- 表单配置引擎
- 表格配置引擎
- 查询条件配置
- 按钮权限配置
- 页面布局配置
- 组件库管理

---

## 二、技术架构

### 2.1 前端技术栈
- **框架**: Vue 3 + TypeScript
- **构建工具**: Vite
- **UI组件库**: Element Plus
- **状态管理**: Pinia
- **路由**: Vue Router
- **HTTP客户端**: Axios
- **拖拽**: Vue Draggable Plus
- **代码编辑器**: Monaco Editor

### 2.2 后端技术栈
- **框架**: Spring Boot 3.x
- **ORM**: MyBatis Plus
- **数据库**: MySQL 8.0+
- **缓存**: Redis
- **安全**: Spring Security + JWT
- **API文档**: Knife4j (Swagger)
- **工具类**: Hutool、Lombok、MapStruct

### 2.3 系统架构图
```
┌─────────────────────────────────────────┐
│           前端 Vue3 应用                 │
├─────────────────────────────────────────┤
│  导航栏  │  页面设计器  │  配置管理     │
│  菜单树  │  表单设计器  │  预览渲染     │
│  布局器  │  表格设计器  │  权限控制     │
└─────────────────────────────────────────┘
                    ↓ HTTP/HTTPS
┌─────────────────────────────────────────┐
│        Spring Boot 后端服务              │
├─────────────────────────────────────────┤
│  菜单API │ 表单API │ 表格API │ 页面API  │
│  权限API │ 模板API │ 组件API │ 数据API  │
└─────────────────────────────────────────┘
                    ↓
┌─────────────────────────────────────────┐
│            MySQL 数据库                  │
└─────────────────────────────────────────┘
```

---

## 三、数据库设计

### 3.1 核心表结构

#### 3.1.1 菜单表 (sys_menu)
```sql
CREATE TABLE sys_menu (
    id BIGINT PRIMARY KEY AUTO_INCREMENT COMMENT '菜单ID',
    parent_id BIGINT DEFAULT 0 COMMENT '父菜单ID',
    menu_name VARCHAR(50) NOT NULL COMMENT '菜单名称',
    menu_code VARCHAR(50) COMMENT '菜单编码',
    menu_type TINYINT COMMENT '菜单类型(1目录 2菜单 3按钮)',
    icon VARCHAR(100) COMMENT '菜单图标',
    sort_order INT DEFAULT 0 COMMENT '排序',
    route_path VARCHAR(200) COMMENT '路由地址',
    component_path VARCHAR(200) COMMENT '组件路径',
    page_id BIGINT COMMENT '关联页面ID',
    is_external TINYINT DEFAULT 0 COMMENT '是否外链(0否 1是)',
    external_url VARCHAR(500) COMMENT '外链地址',
    visible TINYINT DEFAULT 1 COMMENT '是否可见',
    status TINYINT DEFAULT 1 COMMENT '状态(0停用 1启用)',
    perms VARCHAR(100) COMMENT '权限标识',
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP,
    update_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    INDEX idx_parent_id (parent_id)
) COMMENT='菜单配置表';
```

#### 3.1.2 页面配置表 (low_page_config)
```sql
CREATE TABLE low_page_config (
    id BIGINT PRIMARY KEY AUTO_INCREMENT COMMENT '页面ID',
    page_name VARCHAR(100) NOT NULL COMMENT '页面名称',
    page_code VARCHAR(100) UNIQUE COMMENT '页面编码',
    page_type VARCHAR(50) COMMENT '页面类型(list/form/detail/custom)',
    template_id BIGINT COMMENT '模板ID',
    layout_type VARCHAR(50) COMMENT '布局类型(tree-table/top-bottom/left-right/custom)',
    config_json TEXT COMMENT '页面配置JSON',
    status TINYINT DEFAULT 1 COMMENT '状态',
    remark VARCHAR(500) COMMENT '备注',
    create_by VARCHAR(64) COMMENT '创建者',
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP,
    update_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
) COMMENT='页面配置表';
```

#### 3.1.3 表单配置表 (low_form_config)
```sql
CREATE TABLE low_form_config (
    id BIGINT PRIMARY KEY AUTO_INCREMENT COMMENT '表单ID',
    form_name VARCHAR(100) NOT NULL COMMENT '表单名称',
    form_code VARCHAR(100) UNIQUE COMMENT '表单编码',
    page_id BIGINT COMMENT '所属页面ID',
    form_type VARCHAR(50) COMMENT '表单类型(add/edit/search/detail)',
    layout_cols INT DEFAULT 2 COMMENT '表单列数',
    label_width INT DEFAULT 100 COMMENT '标签宽度',
    config_json TEXT COMMENT '表单配置JSON',
    rules_json TEXT COMMENT '校验规则JSON',
    status TINYINT DEFAULT 1,
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP,
    update_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    INDEX idx_page_id (page_id)
) COMMENT='表单配置表';
```

#### 3.1.4 表单字段表 (low_form_field)
```sql
CREATE TABLE low_form_field (
    id BIGINT PRIMARY KEY AUTO_INCREMENT COMMENT '字段ID',
    form_id BIGINT NOT NULL COMMENT '表单ID',
    field_name VARCHAR(100) COMMENT '字段名称',
    field_code VARCHAR(100) COMMENT '字段编码',
    field_type VARCHAR(50) COMMENT '字段类型(input/select/date/upload等)',
    label VARCHAR(100) COMMENT '字段标签',
    placeholder VARCHAR(200) COMMENT '占位符',
    default_value VARCHAR(500) COMMENT '默认值',
    is_required TINYINT DEFAULT 0 COMMENT '是否必填',
    is_readonly TINYINT DEFAULT 0 COMMENT '是否只读',
    is_disabled TINYINT DEFAULT 0 COMMENT '是否禁用',
    sort_order INT DEFAULT 0 COMMENT '排序',
    span INT DEFAULT 12 COMMENT '栅格占位',
    options_json TEXT COMMENT '选项配置JSON(下拉框等)',
    rules_json TEXT COMMENT '校验规则JSON',
    props_json TEXT COMMENT '组件属性JSON',
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP,
    update_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    INDEX idx_form_id (form_id)
) COMMENT='表单字段表';
```

#### 3.1.5 表格配置表 (low_table_config)
```sql
CREATE TABLE low_table_config (
    id BIGINT PRIMARY KEY AUTO_INCREMENT COMMENT '表格ID',
    table_name VARCHAR(100) NOT NULL COMMENT '表格名称',
    table_code VARCHAR(100) UNIQUE COMMENT '表格编码',
    page_id BIGINT COMMENT '所属页面ID',
    data_source_type VARCHAR(50) COMMENT '数据源类型(api/sql/static)',
    api_url VARCHAR(500) COMMENT 'API地址',
    api_method VARCHAR(10) DEFAULT 'GET' COMMENT '请求方法',
    is_pagination TINYINT DEFAULT 1 COMMENT '是否分页',
    page_size INT DEFAULT 10 COMMENT '每页条数',
    is_selection TINYINT DEFAULT 0 COMMENT '是否多选',
    is_index TINYINT DEFAULT 1 COMMENT '是否显示序号',
    config_json TEXT COMMENT '表格配置JSON',
    status TINYINT DEFAULT 1,
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP,
    update_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    INDEX idx_page_id (page_id)
) COMMENT='表格配置表';
```

#### 3.1.6 表格列配置表 (low_table_column)
```sql
CREATE TABLE low_table_column (
    id BIGINT PRIMARY KEY AUTO_INCREMENT COMMENT '列ID',
    table_id BIGINT NOT NULL COMMENT '表格ID',
    column_name VARCHAR(100) COMMENT '列名称',
    column_code VARCHAR(100) COMMENT '列编码(字段名)',
    column_type VARCHAR(50) COMMENT '列类型(text/image/link/tag/custom)',
    label VARCHAR(100) COMMENT '列标题',
    width INT COMMENT '列宽度',
    min_width INT COMMENT '最小宽度',
    is_sortable TINYINT DEFAULT 0 COMMENT '是否可排序',
    is_fixed VARCHAR(10) COMMENT '固定列(left/right)',
    align VARCHAR(10) DEFAULT 'left' COMMENT '对齐方式',
    formatter_type VARCHAR(50) COMMENT '格式化类型(date/money/dict等)',
    formatter_config TEXT COMMENT '格式化配置JSON',
    sort_order INT DEFAULT 0 COMMENT '排序',
    is_visible TINYINT DEFAULT 1 COMMENT '是否显示',
    props_json TEXT COMMENT '列属性JSON',
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP,
    update_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    INDEX idx_table_id (table_id)
) COMMENT='表格列配置表';
```

#### 3.1.7 按钮配置表 (low_button_config)
```sql
CREATE TABLE low_button_config (
    id BIGINT PRIMARY KEY AUTO_INCREMENT COMMENT '按钮ID',
    button_name VARCHAR(100) COMMENT '按钮名称',
    button_code VARCHAR(100) COMMENT '按钮编码',
    page_id BIGINT COMMENT '所属页面ID',
    position VARCHAR(50) COMMENT '位置(toolbar/row/form)',
    button_type VARCHAR(50) COMMENT '按钮类型(primary/success/warning/danger)',
    icon VARCHAR(100) COMMENT '图标',
    action_type VARCHAR(50) COMMENT '动作类型(api/dialog/route/custom)',
    action_config TEXT COMMENT '动作配置JSON',
    perms VARCHAR(100) COMMENT '权限标识',
    sort_order INT DEFAULT 0,
    is_visible TINYINT DEFAULT 1,
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP,
    update_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    INDEX idx_page_id (page_id)
) COMMENT='按钮配置表';
```

#### 3.1.8 页面模板表 (low_page_template)
```sql
CREATE TABLE low_page_template (
    id BIGINT PRIMARY KEY AUTO_INCREMENT COMMENT '模板ID',
    template_name VARCHAR(100) COMMENT '模板名称',
    template_code VARCHAR(100) UNIQUE COMMENT '模板编码',
    template_type VARCHAR(50) COMMENT '模板类型',
    layout_type VARCHAR(50) COMMENT '布局类型',
    preview_image VARCHAR(500) COMMENT '预览图',
    config_json TEXT COMMENT '模板配置JSON',
    is_system TINYINT DEFAULT 0 COMMENT '是否系统模板',
    status TINYINT DEFAULT 1,
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP,
    update_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
) COMMENT='页面模板表';
```

#### 3.1.9 查询条件配置表 (low_search_config)
```sql
CREATE TABLE low_search_config (
    id BIGINT PRIMARY KEY AUTO_INCREMENT COMMENT '查询ID',
    page_id BIGINT COMMENT '所属页面ID',
    field_code VARCHAR(100) COMMENT '字段编码',
    field_label VARCHAR(100) COMMENT '字段标签',
    field_type VARCHAR(50) COMMENT '字段类型',
    search_type VARCHAR(50) COMMENT '查询类型(eq/like/between/in等)',
    default_value VARCHAR(500) COMMENT '默认值',
    options_json TEXT COMMENT '选项配置',
    sort_order INT DEFAULT 0,
    is_visible TINYINT DEFAULT 1,
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_page_id (page_id)
) COMMENT='查询条件配置表';
```

---

## 四、前端实现方案

### 4.1 项目结构
```
lowcode-platform-frontend/
├── src/
│   ├── api/                    # API接口
│   │   ├── menu.ts
│   │   ├── page.ts
│   │   ├── form.ts
│   │   └── table.ts
│   ├── components/             # 公共组件
│   │   ├── FormDesigner/       # 表单设计器
│   │   ├── TableDesigner/      # 表格设计器
│   │   ├── PageDesigner/       # 页面设计器
│   │   ├── FormRender/         # 表单渲染器
│   │   ├── TableRender/        # 表格渲染器
│   │   └── PageRender/         # 页面渲染器
│   ├── views/                  # 页面视图
│   │   ├── designer/           # 设计器页面
│   │   │   ├── MenuDesigner.vue
│   │   │   ├── PageDesigner.vue
│   │   │   ├── FormDesigner.vue
│   │   │   └── TableDesigner.vue
│   │   ├── runtime/            # 运行时页面
│   │   │   └── DynamicPage.vue
│   │   └── layout/             # 布局组件
│   │       └── MainLayout.vue
│   ├── router/                 # 路由配置
│   ├── store/                  # 状态管理
│   ├── utils/                  # 工具函数
│   └── types/                  # TypeScript类型定义
```

### 4.2 核心组件设计

#### 4.2.1 表单设计器 (FormDesigner)
```typescript
// 组件配置接口
interface FormFieldConfig {
  id: string;
  type: 'input' | 'select' | 'date' | 'upload' | 'textarea' | 'number';
  label: string;
  field: string;
  placeholder?: string;
  defaultValue?: any;
  required?: boolean;
  rules?: any[];
  options?: any[];
  props?: Record<string, any>;
  span?: number;
}

interface FormConfig {
  id: number;
  formName: string;
  formCode: string;
  layoutCols: number;
  labelWidth: number;
  fields: FormFieldConfig[];
}
```

#### 4.2.2 表格设计器 (TableDesigner)
```typescript
interface TableColumnConfig {
  id: string;
  prop: string;
  label: string;
  width?: number;
  minWidth?: number;
  sortable?: boolean;
  fixed?: 'left' | 'right';
  align?: 'left' | 'center' | 'right';
  type?: 'text' | 'image' | 'link' | 'tag' | 'custom';
  formatter?: string;
}

interface TableConfig {
  id: number;
  tableName: string;
  tableCode: string;
  apiUrl: string;
  pagination: boolean;
  pageSize: number;
  selection: boolean;
  columns: TableColumnConfig[];
}
```

#### 4.2.3 页面设计器 (PageDesigner)
```typescript
interface PageConfig {
  id: number;
  pageName: string;
  pageCode: string;
  layoutType: 'tree-table' | 'top-bottom' | 'left-right' | 'custom';
  components: {
    search?: { formId: number };
    table?: { tableId: number };
    form?: { formId: number };
    buttons?: { buttonIds: number[] };
    tree?: { config: any };
  };
  layout: {
    leftWidth?: string;
    rightWidth?: string;
    topHeight?: string;
    bottomHeight?: string;
  };
}
```

### 4.3 动态路由加载
```typescript
// router/dynamicRoutes.ts
import { RouteRecordRaw } from 'vue-router';
import { getMenuList } from '@/api/menu';

export async function loadDynamicRoutes() {
  const menuList = await getMenuList();
  const routes: RouteRecordRaw[] = [];

  function buildRoutes(menus: any[], parentPath = '') {
    menus.forEach(menu => {
      if (menu.menuType === 2) { // 菜单类型
        const route: RouteRecordRaw = {
          path: menu.routePath,
          name: menu.menuCode,
          component: menu.pageId
            ? () => import('@/views/runtime/DynamicPage.vue')
            : () => import(menu.componentPath),
          meta: {
            title: menu.menuName,
            icon: menu.icon,
            pageId: menu.pageId,
            isExternal: menu.isExternal,
            externalUrl: menu.externalUrl
          }
        };
        routes.push(route);
      }

      if (menu.children && menu.children.length > 0) {
        buildRoutes(menu.children, menu.routePath);
      }
    });
  }

  buildRoutes(menuList);
  return routes;
}
```

### 4.4 页面渲染器
```vue
<!-- views/runtime/DynamicPage.vue -->
<template>
  <div class="dynamic-page" :class="`layout-${pageConfig.layoutType}`">
    <!-- 左树右表布局 -->
    <template v-if="pageConfig.layoutType === 'tree-table'">
      <div class="left-tree">
        <TreeRender :config="pageConfig.components.tree" />
      </div>
      <div class="right-content">
        <SearchForm v-if="pageConfig.components.search"
                    :form-id="pageConfig.components.search.formId"
                    @search="handleSearch" />
        <ButtonGroup :buttons="pageConfig.components.buttons" />
        <TableRender :table-id="pageConfig.components.table.tableId"
                     :search-params="searchParams" />
      </div>
    </template>

    <!-- 上下布局 -->
    <template v-else-if="pageConfig.layoutType === 'top-bottom'">
      <div class="top-section">
        <SearchForm v-if="pageConfig.components.search"
                    :form-id="pageConfig.components.search.formId"
                    @search="handleSearch" />
        <ButtonGroup :buttons="pageConfig.components.buttons" />
      </div>
      <div class="bottom-section">
        <TableRender :table-id="pageConfig.components.table.tableId"
                     :search-params="searchParams" />
      </div>
    </template>

    <!-- 自定义布局 -->
    <template v-else-if="pageConfig.layoutType === 'custom'">
      <component :is="customLayout" :config="pageConfig" />
    </template>
  </div>
</template>

<script setup lang="ts">
import { ref, onMounted } from 'vue';
import { useRoute } from 'vue-router';
import { getPageConfig } from '@/api/page';

const route = useRoute();
const pageConfig = ref<any>({});
const searchParams = ref({});

onMounted(async () => {
  const pageId = route.meta.pageId;
  pageConfig.value = await getPageConfig(pageId);
});

const handleSearch = (params: any) => {
  searchParams.value = params;
};
</script>
```

---

## 五、后端实现方案

### 5.1 项目结构
```
lowcode-platform-backend/
├── src/main/java/com/lowcode/
│   ├── controller/             # 控制器
│   │   ├── MenuController.java
│   │   ├── PageController.java
│   │   ├── FormController.java
│   │   └── TableController.java
│   ├── service/                # 服务层
│   │   ├── IMenuService.java
│   │   ├── IPageService.java
│   │   ├── IFormService.java
│   │   └── ITableService.java
│   ├── entity/                 # 实体类
│   │   ├── SysMenu.java
│   │   ├── LowPageConfig.java
│   │   ├── LowFormConfig.java
│   │   └── LowTableConfig.java
│   ├── mapper/                 # Mapper接口
│   ├── dto/                    # 数据传输对象
│   ├── vo/                     # 视图对象
│   └── common/                 # 公共类
│       ├── Result.java
│       └── PageResult.java
```

### 5.2 核心API设计

#### 5.2.1 菜单管理API
```java
@RestController
@RequestMapping("/api/menu")
public class MenuController {

    @GetMapping("/tree")
    public Result<List<MenuTreeVO>> getMenuTree();

    @PostMapping
    public Result<Long> createMenu(@RequestBody MenuDTO menuDTO);

    @PutMapping("/{id}")
    public Result<Void> updateMenu(@PathVariable Long id, @RequestBody MenuDTO menuDTO);

    @DeleteMapping("/{id}")
    public Result<Void> deleteMenu(@PathVariable Long id);
}
```

#### 5.2.2 页面配置API
```java
@RestController
@RequestMapping("/api/page")
public class PageController {

    @GetMapping("/{id}")
    public Result<PageConfigVO> getPageConfig(@PathVariable Long id);

    @PostMapping
    public Result<Long> createPage(@RequestBody PageConfigDTO pageDTO);

    @PutMapping("/{id}")
    public Result<Void> updatePage(@PathVariable Long id, @RequestBody PageConfigDTO pageDTO);

    @GetMapping("/preview/{id}")
    public Result<PageConfigVO> previewPage(@PathVariable Long id);
}
```

#### 5.2.3 表单配置API
```java
@RestController
@RequestMapping("/api/form")
public class FormController {

    @GetMapping("/{id}")
    public Result<FormConfigVO> getFormConfig(@PathVariable Long id);

    @PostMapping
    public Result<Long> createForm(@RequestBody FormConfigDTO formDTO);

    @PutMapping("/{id}")
    public Result<Void> updateForm(@PathVariable Long id, @RequestBody FormConfigDTO formDTO);

    @PostMapping("/{id}/fields")
    public Result<Long> addFormField(@PathVariable Long id, @RequestBody FormFieldDTO fieldDTO);
}
```

#### 5.2.4 表格配置API
```java
@RestController
@RequestMapping("/api/table")
public class TableController {

    @GetMapping("/{id}")
    public Result<TableConfigVO> getTableConfig(@PathVariable Long id);

    @PostMapping
    public Result<Long> createTable(@RequestBody TableConfigDTO tableDTO);

    @PutMapping("/{id}")
    public Result<Void> updateTable(@PathVariable Long id, @RequestBody TableConfigDTO tableDTO);

    @GetMapping("/{id}/data")
    public Result<PageResult> getTableData(@PathVariable Long id, @RequestParam Map<String, Object> params);
}
```

---

## 六、实施步骤

### 第一阶段：基础框架搭建
1. 初始化前后端项目
2. 搭建基础架构和目录结构
3. 创建数据库表结构
4. 实现用户认证和权限管理
5. 搭建基础UI布局（导航栏、侧边栏）

### 第二阶段：菜单管理
1. 实现菜单树形结构展示
2. 实现菜单增删改查功能
3. 实现菜单拖拽排序
4. 实现动态路由加载

### 第三阶段：表单设计器
1. 实现表单设计器UI
2. 实现字段拖拽添加
3. 实现字段属性配置
4. 实现表单预览和保存
5. 实现表单渲染引擎

### 第四阶段：表格设计器
1. 实现表格设计器UI
2. 实现列配置功能
3. 实现数据源配置
4. 实现表格预览和保存
5. 实现表格渲染引擎

### 第五阶段：页面设计器
1. 实现页面模板管理
2. 实现多种布局模板
3. 实现组件拖拽布局
4. 实现页面配置保存
5. 实现页面动态渲染

### 第六阶段：按钮和权限
1. 实现按钮配置管理
2. 实现按钮动作配置
3. 实现权限控制
4. 实现按钮渲染

### 第七阶段：测试和优化
1. 功能测试
2. 性能优化
3. 用户体验优化
4. 文档编写

---

## 七、关键技术点

### 7.1 JSON Schema 配置存储
所有配置都以JSON格式存储在数据库中，便于扩展和维护：

```json
{
  "formConfig": {
    "layout": "horizontal",
    "labelWidth": 100,
    "fields": [
      {
        "type": "input",
        "field": "username",
        "label": "用户名",
        "required": true,
        "rules": [
          { "required": true, "message": "请输入用户名" }
        ]
      }
    ]
  }
}
```

### 7.2 组件注册机制
```typescript
// 组件注册表
const componentRegistry = {
  'input': InputComponent,
  'select': SelectComponent,
  'date': DateComponent,
  'upload': UploadComponent,
  'textarea': TextareaComponent,
  'number': NumberComponent,
  'radio': RadioComponent,
  'checkbox': CheckboxComponent,
  'switch': SwitchComponent,
  'cascader': CascaderComponent,
  'tree-select': TreeSelectComponent
};

// 动态渲染组件
function renderComponent(config: FormFieldConfig) {
  const Component = componentRegistry[config.type];
  return h(Component, {
    ...config.props,
    modelValue: formData[config.field],
    'onUpdate:modelValue': (val) => formData[config.field] = val
  });
}
```

### 7.3 动态数据查询引擎
```java
@Service
public class DynamicDataService {

    public PageResult queryTableData(Long tableId, Map<String, Object> params) {
        // 1. 获取表格配置
        LowTableConfig tableConfig = tableConfigMapper.selectById(tableId);

        // 2. 解析API配置
        String apiUrl = tableConfig.getApiUrl();
        String method = tableConfig.getApiMethod();

        // 3. 构建查询条件
        QueryWrapper queryWrapper = buildQueryWrapper(tableId, params);

        // 4. 执行查询
        if ("SQL".equals(tableConfig.getDataSourceType())) {
            return executeSqlQuery(tableConfig, queryWrapper);
        } else {
            return callApiForData(apiUrl, method, params);
        }
    }
}
```
