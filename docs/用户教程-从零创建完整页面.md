# 低代码平台用户教程：从零创建完整页面功能

## 教程概述

本教程将指导您使用低代码平台从零开始创建一个完整的"用户管理"页面,包含查询、列表展示、新增、编辑、删除等完整的 CRUD 功能。

## 教程目标

完成本教程后,您将学会：
- 使用表格设计器创建数据列表
- 使用表单设计器创建数据录入表单
- 使用页面设计器组装页面
- 发布页面并配置路由
- 在菜单系统中添加页面入口
- 测试和验证功能

## 前置条件

- 已启动低代码平台（前端 http://localhost:3000，后端 http://localhost:8765）
- 已登录系统
- 具备基本的计算机操作能力

---

## 第一部分：创建表格配置（用户列表）

### 目标
创建一个用户列表表格，用于展示用户数据

### 操作步骤

#### 步骤 1.1：进入表格管理
1. 在系统左侧导航栏中找到 **"低代码管理"** 菜单
2. 点击展开，找到 **"表格管理"** 子菜单
3. 点击进入表格管理页面

#### 步骤 1.2：创建新表格
1. 点击页面左上角的 **"新增表格"** 按钮
2. 系统自动跳转到表格设计器

#### 步骤 1.3：配置基础信息
在左侧 **"基础配置"** 标签页中填写：

| 字段 | 填写内容 | 说明 |
|------|---------|------|
| 表格名称 | `用户列表` | 表格的显示名称 |
| 表格编码 | `user_list` | 唯一标识，建议使用英文 |
| 数据接口 | `/api/user/list` | 后端 API 地址 |
| 请求方式 | 选择 `GET` | HTTP 请求方法 |
| 是否分页 | 开启（默认） | 启用分页功能 |
| 每页条数 | `10` | 默认每页显示 10 条 |
| 显示序号 | 开启 | 显示行号 |
| 显示多选 | 开启 | 支持批量操作 |
| 显示边框 | 开启 | 表格显示边框 |
| 斑马纹 | 开启 | 隔行变色，提升可读性 |

#### 步骤 1.4：配置列信息
1. 点击左侧 **"列配置"** 标签页
2. 点击右上角 **"添加列"** 按钮，依次添加以下列：

**列 1：用户名**
- 列标题：`用户名`
- 字段名：`username`
- 最小宽度：`120`
- 对齐方式：`左对齐`
- 可排序：开启

**列 2：昵称**
- 列标题：`昵称`
- 字段名：`nickname`
- 最小宽度：`120`
- 对齐方式：`左对齐`
- 可排序：开启

**列 3：邮箱**
- 列标题：`邮箱`
- 字段名：`email`
- 最小宽度：`180`
- 对齐方式：`左对齐`

**列 4：状态**
- 列标题：`状态`
- 字段名：`status`
- 列宽度：`80`
- 对齐方式：`居中`

#### 步骤 1.5：配置工具栏按钮
1. 点击左侧 **"按钮配置"** 标签页
2. 展开 **"工具栏按钮"** 折叠面板
3. 点击 **"添加"** 按钮，创建以下按钮：

**按钮 1：新增用户**
- 按钮名称：`新增用户`
- 按钮编码：`add_user`
- 按钮类型：`主要`（primary）
- 图标：`Plus`
- 动作类型：`打开弹窗`

**按钮 2：批量删除**
- 按钮名称：`批量删除`
- 按钮编码：`batch_delete`
- 按钮类型：`危险`（danger）
- 图标：`Delete`
- 动作类型：`确认框`

#### 步骤 1.6：配置操作列按钮
1. 在 **"按钮配置"** 标签页中，展开 **"操作列按钮"** 折叠面板
2. 点击 **"添加"** 按钮，创建以下按钮：

**按钮 1：编辑**
- 按钮名称：`编辑`
- 按钮编码：`edit`
- 按钮类型：`主要`（primary）
- 按钮尺寸：`小`（small）
- 动作类型：`打开弹窗`

**按钮 2：删除**
- 按钮名称：`删除`
- 按钮编码：`delete`
- 按钮类型：`危险`（danger）
- 按钮尺寸：`小`（small）
- 动作类型：`确认框`

#### 步骤 1.7：保存表格
1. 点击右上角的 **"保存"** 按钮
2. 系统提示"创建表格配置成功"
3. 记下表格 ID（显示在 URL 中，例如 `?id=1`）
4. 点击左上角 **"返回列表"** 按钮

**预期结果**：在表格列表中可以看到刚才创建的"用户列表"表格配置

---

## 第二部分：创建表单配置（用户新增/编辑）

### 目标
创建用户表单，用于新增和编辑用户信息

### 操作步骤

#### 步骤 2.1：进入表单管理
1. 在系统左侧导航栏中找到 **"低代码管理"** 菜单
2. 点击展开，找到 **"表单管理"** 子菜单
3. 点击进入表单管理页面

#### 步骤 2.2：创建新表单
1. 点击页面左上角的 **"新增表单"** 按钮
2. 系统自动跳转到表单设计器

#### 步骤 2.3：配置表单属性
在右侧 **"表单属性"** 标签页中填写：

| 字段 | 填写内容 | 说明 |
|------|---------|------|
| 表单名称 | `用户表单` | 表单的显示名称 |
| 表单编码 | `user_form` | 唯一标识 |
| 标签宽度 | `100` | 标签区域宽度（像素） |
| 标签位置 | `右对齐` | 标签对齐方式 |

#### 步骤 2.4：添加表单字段
从左侧组件库拖拽组件到中间设计区域：

**字段 1：用户名（输入框）**
1. 从左侧 **"基础组件"** 中拖拽 **"输入框"** 到中间设计区域
2. 在中间区域点击该字段，右侧会显示字段属性
3. 配置属性：
   - 字段标签：`用户名`
   - 字段编码：`username`
   - 占位提示：`请输入用户名`
   - 栅格宽度：`12`
   - 是否必填：开启

**字段 2：昵称（输入框）**
1. 拖拽第二个输入框
2. 配置属性：
   - 字段标签：`昵称`
   - 字段编码：`nickname`
   - 栅格宽度：`12`

**字段 3：邮箱（输入框）**
- 字段标签：`邮箱`
- 字段编码：`email`
- 是否必填：开启
- 栅格宽度：`12`

**字段 4：手机号（输入框）**
- 字段标签：`手机号`
- 字段编码：`phone`
- 栅格宽度：`12`

**字段 5：状态（开关）**
- 字段标签：`状态`
- 字段编码：`status`
- 栅格宽度：`12`
- 默认值：`true`

**字段 6：备注（文本域）**
- 字段标签：`备注`
- 字段编码：`remark`
- 栅格宽度：`24`（占整行）

#### 步骤 2.5：保存表单
1. 点击右上角的 **"保存"** 按钮
2. 系统提示"创建表单配置成功"
3. 记下表单 ID（显示在 URL 中）
4. 点击左上角 **"返回列表"** 按钮

**预期结果**：在表单列表中可以看到"用户表单"配置

---

## 第三部分：创建页面配置（用户管理页面）

### 目标
创建用户管理页面，组装查询区、表格和表单

### 操作步骤

#### 步骤 3.1：进入页面管理
1. 在系统左侧导航栏中找到 **"低代码管理"** 菜单
2. 点击展开，找到 **"页面管理"** 子菜单
3. 点击进入页面管理页面

#### 步骤 3.2：创建新页面
1. 点击页面左上角的 **"新增页面"** 按钮
2. 弹出"新建页面：选择模板"对话框

#### 步骤 3.3：选择页面模板
1. 在模板列表中选择 **"列表页模板"**（Top-Bottom 布局）
2. 点击 **"下一步"** 按钮

#### 步骤 3.4：填写页面信息
1. 页面名称：`用户管理`
2. 页面编码：`user_manage`
3. 状态：开启
4. 点击 **"下一步"** 按钮
5. 系统提示"创建成功"并自动跳转到页面设计器

#### 步骤 3.5：配置查询条件区域
从左侧 **"组件库"** 的 **"查询区"** 中点击添加查询条件：

**条件 1：用户名**
1. 点击 **"输入框"** 组件
2. 在右侧配置：
   - 字段标签：`用户名`
   - 字段编码：`username`
   - 占位符：`请输入用户名`

**条件 2：状态**
1. 点击 **"下拉框"** 组件
2. 在右侧配置：
   - 字段标签：`状态`
   - 字段编码：`status`

#### 步骤 3.6：配置内容区域
1. 在中间设计区域，点击 **"内容区域"**
2. 在右侧配置：
   - 标题：`用户列表`
   - 显示工具栏：开启
3. 点击中间区域的 **"从左侧选择表格或表单组件"** 提示
4. 在弹出的组件选择器中：
   - 选择之前创建的 **"用户列表"** 表格
   - 点击 **"确定"**

#### 步骤 3.7：保存页面
1. 点击右上角的 **"保存"** 按钮
2. 系统提示"创建成功"
3. 记下页面 ID（显示在 URL 中）
4. 点击左上角 **"返回"** 按钮返回页面管理

**预期结果**：在页面列表中可以看到"用户管理"页面，状态为"未发布"

---

## 第四部分：发布页面并配置路由

### 目标
发布页面，使其可以通过 URL 访问

### 操作步骤

#### 步骤 4.1：发布页面
1. 在页面管理列表中找到 **"用户管理"** 页面
2. 点击该行操作列的 **"发布"** 按钮
3. 在弹出对话框中输入路由路径：`/user/manage`
4. 点击 **"确定"**
5. 系统提示"发布成功"

**路由路径说明**：
- 必须以 `/` 开头
- 只能包含字母、数字、下划线、连字符和斜杠
- 建议使用有意义的路径

#### 步骤 4.2：验证发布状态
1. 在页面列表中查看"用户管理"页面
2. "发布状态"列应显示为 **"已发布"**
3. "路由路径"列显示 `/user/manage`

**预期结果**：页面已发布，可以通过访问 `http://localhost:3000/user/manage` 查看页面

---

## 第五部分：添加菜单项（在导航栏显示）

### 目标
在系统左侧导航栏中添加菜单项，方便用户访问

### 操作步骤

#### 步骤 5.1：进入菜单管理
1. 在系统左侧导航栏中找到 **"系统管理"** 菜单
2. 点击展开，找到 **"菜单管理"** 子菜单
3. 点击进入菜单管理页面

#### 步骤 5.2：添加主菜单（业务管理目录）
1. 点击页面左上角的 **"新增菜单"** 按钮
2. 在弹出表单中填写：
   - **上级菜单**：选择 `根目录`
   - **菜单类型**：选择 `目录`
   - **菜单名称**：`业务管理`
   - **菜单编码**：`business`
   - **图标**：`Folder`
   - **排序**：`2`
   - **状态**：开启
3. 点击 **"确定"**

**提示**：如果已存在"业务管理"目录，可以跳过此步骤

#### 步骤 5.3：添加子菜单（用户管理）
1. 在菜单树中找到 **"业务管理"** 目录
2. 点击该行操作列的 **"新增"** 按钮
3. 在弹出表单中填写：

**基本信息**：
- **上级菜单**：`业务管理`（已自动选中）
- **菜单类型**：选择 `菜单`
- **菜单名称**：`用户管理`
- **菜单编码**：`user_manage`
- **图标**：`User`
- **排序**：`1`
- **状态**：开启

**组件来源**（关键步骤）：
- **组件来源**：选择 `低代码页面`
- **低代码页面**：从下拉列表中选择 `用户管理 (/user/manage)`
- **路由地址**：点击输入框右侧的 **"自动填充"** 按钮
- **组件路径**：系统自动填充 `/views/lowcode/PageRender.vue`

4. 点击 **"确定"**

**预期结果**：
- 在菜单树中可以看到"业务管理"目录下有"用户管理"子菜单
- 左侧导航栏中出现"业务管理"菜单
- 点击"业务管理"可以展开，看到"用户管理"子菜单

---

## 第六部分：访问和测试

### 目标
测试创建的用户管理页面功能

### 操作步骤

#### 步骤 6.1：访问页面
1. 在左侧导航栏中找到 **"业务管理"** 菜单
2. 点击展开
3. 点击 **"用户管理"** 子菜单
4. 右侧内容区域显示用户管理页面

#### 步骤 6.2：测试查询功能
1. 在"查询条件"区域输入关键字
2. 点击 **"搜索"** 按钮
3. 表格应显示过滤后的数据
4. 点击 **"重置"** 按钮，清空查询条件

#### 步骤 6.3：测试新增功能
1. 点击表格上方工具栏的 **"新增用户"** 按钮
2. 弹出"新增用户"对话框
3. 填写表单信息
4. 点击 **"提交"** 按钮
5. 对话框关闭，表格应显示新添加的用户

#### 步骤 6.4：测试编辑功能
1. 找到要编辑的用户行
2. 点击操作列的 **"编辑"** 按钮
3. 弹出"编辑用户"对话框
4. 修改信息后点击 **"提交"**
5. 表格中该用户信息已更新

#### 步骤 6.5：测试删除功能
1. 找到要删除的用户行
2. 点击操作列的 **"删除"** 按钮
3. 弹出确认对话框
4. 点击 **"确定"**
5. 该用户从表格中消失

**预期结果**：所有功能正常工作，页面符合预期设计

---

## 常见问题解答

### Q1：表格设计器保存后，如何修改配置？
**A**：在表格管理列表中，找到对应的表格，点击操作列的 **"设计"** 按钮，即可进入编辑模式。

### Q2：表单和表格创建后，可以修改吗？
**A**：可以。表单和表格都可以反复编辑修改，修改后保存，关联的页面会自动使用最新配置。

### Q3：页面发布后，如何修改路由路径？
**A**：
1. 点击页面列表中的 **"取消发布"** 按钮
2. 重新点击 **"发布"**，输入新的路由路径

### Q4：如何调整查询条件的显示顺序？
**A**：在页面设计器中，查询条件字段右侧有上下箭头，点击即可调整顺序。

### Q5：页面预览时显示"页面加载失败"怎么办？
**A**：
1. 检查页面是否已发布
2. 检查路由路径是否正确
3. 打开浏览器控制台查看错误信息

---

## 最佳实践建议

### 1. 命名规范
- **页面编码**：使用小写字母和下划线，如 `user_manage`
- **表格编码**：添加 `_list` 后缀，如 `user_list`
- **表单编码**：添加 `_form` 后缀，如 `user_form`
- **按钮编码**：使用动词+名词，如 `add_user`

### 2. 分步开发流程
1. 先设计数据结构
2. 创建表格配置（列表展示）
3. 创建表单配置（数据录入）
4. 组装页面
5. 测试调试
6. 发布上线

### 3. 用户体验优化
- 查询条件不要太多（建议不超过 5 个）
- 表格列宽要合理设置
- 按钮要使用合适的图标和颜色
- 加载数据时显示 loading 状态

---

## 关键文件汇总

### 前端核心文件
- `frontend/src/views/lowcode/PageDesigner.vue` - 页面设计器
- `frontend/src/views/lowcode/FormDesigner.vue` - 表单设计器
- `frontend/src/views/lowcode/TableDesigner.vue` - 表格设计器
- `frontend/src/views/lowcode/PageRender.vue` - 页面渲染器
- `frontend/src/views/lowcode/PageManage.vue` - 页面管理
- `frontend/src/views/system/MenuManage.vue` - 菜单管理
- `frontend/src/components/render/TableRender.vue` - 表格渲染器
- `frontend/src/components/render/FormRender.vue` - 表单渲染器
- `frontend/src/components/render/ButtonRenderer.vue` - 按钮渲染器
- `frontend/src/utils/buttonActionHandler.ts` - 按钮动作处理器
- `frontend/src/router/index.ts` - 路由配置
- `frontend/src/api/page.ts` - 页面 API
- `frontend/src/api/form.ts` - 表单 API
- `frontend/src/api/table.ts` - 表格 API
- `frontend/src/api/button.ts` - 按钮 API
- `frontend/src/api/menu.ts` - 菜单 API

### 后端核心文件
- `backend/src/main/java/com/lowcode/controller/PageConfigController.java` - 页面配置 API
- `backend/src/main/java/com/lowcode/controller/FormConfigController.java` - 表单配置 API
- `backend/src/main/java/com/lowcode/controller/TableConfigController.java` - 表格配置 API
- `backend/src/main/java/com/lowcode/controller/ButtonConfigController.java` - 按钮配置 API
- `backend/src/main/java/com/lowcode/controller/MenuController.java` - 菜单管理 API
- `backend/src/main/java/com/lowcode/entity/LowPageConfig.java` - 页面配置实体
- `backend/src/main/java/com/lowcode/entity/LowFormConfig.java` - 表单配置实体
- `backend/src/main/java/com/lowcode/entity/LowFormField.java` - 表单字段实体
- `backend/src/main/java/com/lowcode/entity/LowTableConfig.java` - 表格配置实体
- `backend/src/main/java/com/lowcode/entity/LowTableColumn.java` - 表格列实体
- `backend/src/main/java/com/lowcode/entity/LowButtonConfig.java` - 按钮配置实体
- `backend/src/main/java/com/lowcode/entity/SysMenu.java` - 菜单实体

### 数据库脚本
- `docs/init.sql` - 数据库初始化脚本
- `docs/migration/002_add_page_publish.sql` - 页面发布功能迁移
- `docs/migration/003_add_config_template.sql` - 配置模板迁移

---

## 教程总结

恭喜您完成本教程！您已经学会了：

✅ 使用表格设计器创建数据列表
✅ 使用表单设计器创建数据录入表单
✅ 使用页面设计器组装完整的 CRUD 页面
✅ 发布页面并配置路由
✅ 在菜单系统中添加页面入口
✅ 测试和验证页面功能

现在您可以独立创建各种业务页面了。继续探索更多高级功能，提升您的低代码开发能力！

---

## 附录：技术架构说明

### 前端技术栈
- **框架**：Vue 3 + TypeScript + Vite
- **UI 库**：Element Plus
- **状态管理**：Pinia（支持持久化）
- **路由**：Vue Router 4（支持动态路由）
- **HTTP 客户端**：Axios（自动处理 JWT）
- **拖拽**：vue-draggable-plus
- **代码编辑器**：Monaco Editor
- **图表**：ECharts + vue-echarts

### 后端技术栈
- **框架**：Spring Boot 3.2.2 + Java 21
- **ORM**：MyBatis Plus 3.5.5
- **安全**：Spring Security + JWT（jjwt 0.12.5）
- **数据库**：MySQL 8.0+ + Druid 连接池
- **缓存**：Redis + Commons Pool2
- **API 文档**：Knife4j 4.4.0
- **对象映射**：MapStruct 1.5.5
- **工具类**：Hutool 5.8.25
- **Excel**：EasyExcel 3.3.4

### 核心设计理念
1. **配置驱动**：通过 JSON 配置生成完整页面，无需编写代码
2. **组件化**：表单、表格、按钮等组件可独立配置和复用
3. **可视化设计**：所见即所得的设计器，降低使用门槛
4. **灵活扩展**：支持自定义代码、模板字符串、条件表达式
5. **完整生命周期**：设计 → 配置 → 保存 → 发布 → 访问 → 渲染 → 交互

### 数据流转机制

```
用户操作（在设计器中配置）
    ↓
保存配置到数据库（low_page_config、low_form_config 等）
    ↓
发布页面（设置 published=true、route_path）
    ↓
动态路由注册（自动添加到 Vue Router）
    ↓
用户访问页面（通过菜单或 URL）
    ↓
PageRender 加载页面配置
    ↓
根据 layoutType 选择布局组件
    ↓
渲染子组件（TableRender、FormRender、ButtonRenderer）
    ↓
用户交互（查询、新增、编辑、删除）
    ↓
ButtonActionHandler 处理按钮动作
    ↓
调用 API 或打开弹窗
    ↓
刷新页面数据
```

### 配置 JSON 结构示例

**页面配置（configJson）**：
```json
{
  "searchArea": {
    "enabled": true,
    "title": "查询条件",
    "fields": [
      {
        "id": "field_1",
        "label": "用户名",
        "fieldCode": "username",
        "type": "input",
        "placeholder": "请输入用户名"
      }
    ]
  },
  "contentArea": {
    "type": "table",
    "configId": 1,
    "title": "用户列表",
    "showToolbar": true
  }
}
```

**按钮动作配置（action_config）**：
```json
{
  "type": "dialog",
  "formId": 10,
  "title": "新增用户",
  "width": "600px",
  "mode": "add",
  "submitUrl": "/api/user/save",
  "successAction": {
    "type": "refresh",
    "message": "保存成功"
  }
}
```

---

**文档版本**：v1.0
**最后更新**：2026-01-30
**适用平台版本**：v1.0.0+
